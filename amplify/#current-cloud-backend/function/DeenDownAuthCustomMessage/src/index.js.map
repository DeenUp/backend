{
  "version": 3,
  "sources": ["index.ts", "modules/verification-link.ts"],
  "sourcesContent": ["import type { Event } from \"./event\"\nimport { verificationLink } from \"./modules\"\n\nexport const handler = async (event: Event) => {\n\tawait Promise.all([verificationLink(event)])\n\n\treturn event\n}\n", "import type { Event } from \"../event\"\n\nexport default (event: Event) => {\n\tif (event.triggerSource === \"CustomMessage_SignUp\") {\n\t\tconst {\n\t\t\tregion,\n\t\t\tuserName,\n\t\t\trequest: { codeParameter },\n\t\t\tcallerContext: { clientId },\n\t\t} = event\n\t\tconst redirectUrl = `${process.env.REDIRECTURL!}/?username=${userName}`\n\t\tconst resourcePrefix =\n\t\t\tprocess.env.RESOURCENAME!.split(\"CustomMessage\")[0]\n\t\tconst hyphenRegions = [\n\t\t\t\"us-east-1\",\n\t\t\t\"us-west-1\",\n\t\t\t\"us-west-2\",\n\t\t\t\"ap-southeast-1\",\n\t\t\t\"ap-southeast-2\",\n\t\t\t\"ap-northeast-1\",\n\t\t\t\"eu-west-1\",\n\t\t\t\"sa-east-1\",\n\t\t]\n\t\tconst separator = hyphenRegions.includes(region) ? \"-\" : \".\"\n\t\tconst payload = Buffer.from(\n\t\t\tJSON.stringify({\n\t\t\t\tuserName,\n\t\t\t\tredirectUrl,\n\t\t\t\tregion,\n\t\t\t\tclientId,\n\t\t\t}),\n\t\t).toString(\"base64\")\n\t\tconst bucketUrl = `http://${resourcePrefix}verificationbucket-${process.env.ENV}.s3-website${separator}${region}.amazonaws.com`\n\t\tconst url = `${bucketUrl}/?data=${payload}&code=${codeParameter}`\n\t\tconst message = `${process.env.EMAILMESSAGE}. \\n ${url}`\n\n\t\tevent.response.smsMessage = message\n\t\tevent.response.emailSubject = process.env.EMAILSUBJECT!\n\t\tevent.response.emailMessage = message\n\t}\n\n\treturn event\n}\n"],
  "mappings": "yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,aAAAE,IAAA,eAAAC,EAAAH,GCEA,IAAOI,EAASC,GAAiB,CAChC,GAAIA,EAAM,gBAAkB,uBAAwB,CACnD,GAAM,CACL,OAAAC,EACA,SAAAC,EACA,QAAS,CAAE,cAAAC,CAAc,EACzB,cAAe,CAAE,SAAAC,CAAS,CAC3B,EAAIJ,EACEK,EAAc,GAAG,QAAQ,IAAI,WAAY,cAAcH,CAAQ,GAC/DI,EACL,QAAQ,IAAI,aAAc,MAAM,eAAe,EAAE,CAAC,EAW7CC,EAVgB,CACrB,YACA,YACA,YACA,iBACA,iBACA,iBACA,YACA,WACD,EACgC,SAASN,CAAM,EAAI,IAAM,IACnDO,EAAU,OAAO,KACtB,KAAK,UAAU,CACd,SAAAN,EACA,YAAAG,EACA,OAAAJ,EACA,SAAAG,CACD,CAAC,CACF,EAAE,SAAS,QAAQ,EAEbK,EAAM,GADM,UAAUH,CAAc,sBAAsB,QAAQ,IAAI,GAAG,cAAcC,CAAS,GAAGN,CAAM,gBACvF,UAAUO,CAAO,SAASL,CAAa,GACzDO,EAAU,GAAG,QAAQ,IAAI,YAAY;AAAA,GAAQD,CAAG,GAEtDT,EAAM,SAAS,WAAaU,EAC5BV,EAAM,SAAS,aAAe,QAAQ,IAAI,aAC1CA,EAAM,SAAS,aAAeU,CAC/B,CAEA,OAAOV,CACR,EDvCO,IAAMW,EAAU,MAAOC,IAC7B,MAAM,QAAQ,IAAI,CAACC,EAAiBD,CAAK,CAAC,CAAC,EAEpCA",
  "names": ["src_exports", "__export", "handler", "__toCommonJS", "verification_link_default", "event", "region", "userName", "codeParameter", "clientId", "redirectUrl", "resourcePrefix", "separator", "payload", "url", "message", "handler", "event", "verification_link_default"]
}
