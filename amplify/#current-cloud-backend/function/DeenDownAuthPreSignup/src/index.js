"use strict";var o=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var d=Object.prototype.hasOwnProperty;var f=(t,i)=>{for(var r in i)o(t,r,{get:i[r],enumerable:!0})},c=(t,i,r,n)=>{if(i&&typeof i=="object"||typeof i=="function")for(let e of u(i))!d.call(t,e)&&e!==r&&o(t,e,{get:()=>i[e],enumerable:!(n=p(i,e))||n.enumerable});return t};var E=t=>c(o({},"__esModule",{value:!0}),t);var w={};f(w,{handler:()=>v});module.exports=E(w);var m=process.env.DOMAINALLOWLIST,s=t=>{let{email:i}=t.request.userAttributes;if(m.trim()==="")return t;let r=m.split(",").map(e=>e.trim()),n=i.substring(i.indexOf("@")+1);if(r.length!==0&&!r.includes(n))throw new Error(`Invalid email domain: ${n}`);return t};var a=process.env.DOMAINDENYLIST,l=t=>{let{email:i}=t.request.userAttributes;if(a.trim()==="")return t;let r=a.split(",").map(e=>e.trim()),n=i.substring(i.indexOf("@")+1);if(r.length!==0&&r.includes(n))throw new Error(`Invalid email domain: ${n}`);return t};var v=async t=>(await Promise.all([s(t),l(t)]),t);0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
