{
  "version": 3,
  "sources": ["index.ts", "modules/email-filter-allow-list.ts", "modules/email-filter-deny-list.ts"],
  "sourcesContent": ["import type { Event } from \"./event\"\nimport { emailFilterAllowlist, emailFilterDenylist } from \"./modules\"\n\nexport const handler = async (event: Event): Promise<Event> => {\n\tawait Promise.all([emailFilterAllowlist(event), emailFilterDenylist(event)])\n\n\treturn event\n}\n", "import type { Event } from \"../event\"\n\nconst domainAllowList: string = process.env.DOMAINALLOWLIST!\n\nexport default (event: Event): Event => {\n\tconst { email } = event.request.userAttributes\n\n\tif (domainAllowList.trim() === \"\") {\n\t\treturn event\n\t}\n\n\tconst allowList = domainAllowList.split(\",\").map((d) => d.trim())\n\tconst domain = email.substring(email.indexOf(\"@\") + 1)\n\n\tif (allowList.length !== 0) {\n\t\tif (!allowList.includes(domain)) {\n\t\t\tthrow new Error(`Invalid email domain: ${domain}`)\n\t\t}\n\t}\n\n\treturn event\n}\n", "import type { Event } from \"../event\"\n\nconst domainDenyList: string = process.env.DOMAINDENYLIST!\n\nexport default (event: Event): Event => {\n\tconst { email } = event.request.userAttributes\n\n\tif (domainDenyList.trim() === \"\") {\n\t\treturn event\n\t}\n\n\tconst denyList = domainDenyList.split(\",\").map((d) => d.trim())\n\tconst domain = email.substring(email.indexOf(\"@\") + 1)\n\n\tif (denyList.length !== 0) {\n\t\tif (denyList.includes(domain)) {\n\t\t\tthrow new Error(`Invalid email domain: ${domain}`)\n\t\t}\n\t}\n\n\treturn event\n}\n"],
  "mappings": "yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,aAAAE,IAAA,eAAAC,EAAAH,GCEA,IAAMI,EAA0B,QAAQ,IAAI,gBAErCC,EAASC,GAAwB,CACvC,GAAM,CAAE,MAAAC,CAAM,EAAID,EAAM,QAAQ,eAEhC,GAAIF,EAAgB,KAAK,IAAM,GAC9B,OAAOE,EAGR,IAAME,EAAYJ,EAAgB,MAAM,GAAG,EAAE,IAAKK,GAAMA,EAAE,KAAK,CAAC,EAC1DC,EAASH,EAAM,UAAUA,EAAM,QAAQ,GAAG,EAAI,CAAC,EAErD,GAAIC,EAAU,SAAW,GACpB,CAACA,EAAU,SAASE,CAAM,EAC7B,MAAM,IAAI,MAAM,yBAAyBA,CAAM,EAAE,EAInD,OAAOJ,CACR,ECnBA,IAAMK,EAAyB,QAAQ,IAAI,eAEpCC,EAASC,GAAwB,CACvC,GAAM,CAAE,MAAAC,CAAM,EAAID,EAAM,QAAQ,eAEhC,GAAIF,EAAe,KAAK,IAAM,GAC7B,OAAOE,EAGR,IAAME,EAAWJ,EAAe,MAAM,GAAG,EAAE,IAAKK,GAAMA,EAAE,KAAK,CAAC,EACxDC,EAASH,EAAM,UAAUA,EAAM,QAAQ,GAAG,EAAI,CAAC,EAErD,GAAIC,EAAS,SAAW,GACnBA,EAAS,SAASE,CAAM,EAC3B,MAAM,IAAI,MAAM,yBAAyBA,CAAM,EAAE,EAInD,OAAOJ,CACR,EFlBO,IAAMK,EAAU,MAAOC,IAC7B,MAAM,QAAQ,IAAI,CAACC,EAAqBD,CAAK,EAAGE,EAAoBF,CAAK,CAAC,CAAC,EAEpEA",
  "names": ["src_exports", "__export", "handler", "__toCommonJS", "domainAllowList", "email_filter_allow_list_default", "event", "email", "allowList", "d", "domain", "domainDenyList", "email_filter_deny_list_default", "event", "email", "denyList", "d", "domain", "handler", "event", "email_filter_allow_list_default", "email_filter_deny_list_default"]
}
